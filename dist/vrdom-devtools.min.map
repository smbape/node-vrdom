{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:/webpack/bootstrap f426248fa02cf7bc04a7","webpack:///vrdom-devtools/vrdom-devtools.js","webpack:/external {\"amd\":\"vrdom\",\"commonjs\":\"vrdom\",\"commonjs2\":\"vrdom\",\"root\":\"vrdom\"}"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","__webpack_require__","moduleId","installedModules","id","loaded","modules","call","m","c","p","toReactDOMComponent","vnode","inst","_tag","type","_currentElement","element","children","_hostNode","node","_renderedChildren","canonicalKey","push","toReactComponent","Object","assign","getName","_inDevTools","toReactTextComponent","text","_stringText","toReactCompositeComponent","hasProp","defineProperty","enumerable","configurable","get","set","isStateless","thunk","_type","_instance","component","_context","context","props","refs","state","name","getDisplayName","_renderedComponent","toReactTopLevelWrapper","roots","Mount","Reconciler","toReactWrapper","wrapper","_rootID","key","ReactTopLevelWrapper","child","ref","rootID","_renderNewRootComponent","parentNode","mountComponent","instance","visitNonCompositeChildren","childInst","noUpdate","_reactInternalDevToolInstance","instanceMap","has","isWidget","isVNode","findRoots","childNodes","i","len","length","expando","rootVNode","createDevToolsBridge","_instancesByReactRootID","nextElement","container","shouldReuseMarkup","performUpdateIfNecessary","receiveComponent","unmountComponent","document","body","ComponentTree","getNodeFromInstance","getClosestInstanceFromNode","map","nodeMap","vrdomID","componentDidMount","isRootVNode","componentDidUpdate","prevRenderedChildren","forEach","contains","delete","componentWillUnmount","rootInstance","visitor","Array","isArray","parent","register","__REACT_DEVTOOLS_GLOBAL_HOOK__","registered","bridge","componentDidMountHook","componentDidUpdateHook","componentWillUnmountHook","inject","hooks","appendHook","unregister","removeHook","_renderers","vrdom","functions","Component","isReactTopLevelWrapper","Map"],"mappings":"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","file":"dist/vrdom-devtools.min.js","sourceRoot":"","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vrdom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"vrdom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vrdomDevtools\"] = factory(require(\"vrdom\"));\n\telse\n\t\troot[\"vrdomDevtools\"] = factory(root[\"vrdom\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\n'use strict'\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f426248fa02cf7bc04a7","/* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n\n/* eslint-disable valid-jsdoc, no-empty-function */\n\nconst vrdom = require(\"vrdom\"),\n    expando = vrdom.expando,\n    nodeMap = vrdom.nodeMap,\n    functions = vrdom.functions,\n    getDisplayName = functions.getDisplayName,\n    hasProp = functions.hasProp,\n    hooks = vrdom.hooks;\n\n/**\n * Transform a virtual node to a ReactDOMComponent compatible object\n * \n * @param  {VirtualNode|VirtualText|ComponentWidget} vnode Virtual node to transform\n * @param  {ReactInternalInstance}                   inst  Transformed object\n * \n * @return {ReactInternalInstance}                   Transformed object\n */\nfunction toReactDOMComponent(vnode, inst) {\n    let _tag = vnode.type;\n    let _currentElement = vnode.element;\n    let children = vnode.children;\n    let _hostNode = vnode.node;\n    let _renderedChildren;\n\n    if (children !== null && \"object\" === typeof children) {\n        _renderedChildren = [];\n        for (let canonicalKey in children) { // eslint-disable-line guard-for-in\n            _renderedChildren.push(toReactComponent(children[canonicalKey]));\n        }\n    }\n\n    Object.assign(inst, {\n        // --- ReactDOMComponent interface\n        getName() {\n            return _tag;\n        },\n        _currentElement: _currentElement,\n        _hostNode: _hostNode,\n        _renderedChildren: _renderedChildren,\n\n        _inDevTools: false,\n        vnode: vnode\n    });\n\n    return inst;\n}\n\n\n/**\n * Transform a virtual node to a ReactTextComponent compatible object\n * \n * @param  {VirtualNode|VirtualText|ComponentWidget} vnode Virtual node to transform\n * @param  {ReactInternalInstance}                   inst  Transformed object\n * \n * @return {ReactInternalInstance}                   Transformed object\n */\nfunction toReactTextComponent(vnode, inst) {\n    Object.assign(inst, {\n        _currentElement: vnode.text,\n        _stringText: vnode.text,\n        _hostNode: vnode.node,\n\n        _inDevTools: false,\n        vnode: vnode\n    });\n\n    return inst;\n}\n\n/**\n * Transform a virtual node to a ReactCompositeComponent compatible object\n * \n * @param  {VirtualNode|VirtualText|ComponentWidget} vnode Virtual node to transform\n * @param  {ReactInternalInstance}                   inst  Transformed object\n * \n * @return {ReactInternalInstance}                   Transformed object\n */\nfunction toReactCompositeComponent(vnode, inst) {\n    // forceUpdate set _currentElement\n    if (!hasProp.call(inst, \"_currentElement\")) {\n        Object.defineProperty(inst, \"_currentElement\", {\n            enumerable: true, // available in for ... in\n            configurable: true, // can be deleted and reconfigured\n\n            get: function() {\n                return this.vnode.element;\n            },\n\n            set: function(element) {\n                this.vnode.element = element;\n            }\n        });\n    }\n\n    const isStateless = vnode.thunk._type === \"Stateless\";\n    let _instance = vnode.thunk.component;\n    let _currentElement = vnode.element;\n    let _context;\n\n    if (isStateless) {\n        _context = vnode.context;\n        _instance = {\n            context: _context,\n            props: _currentElement.props,\n            refs: {},\n            state: null\n        };\n    }\n\n    const name = getDisplayName(_currentElement.type);\n\n    Object.assign(inst, {\n        getName() {\n            return name;\n        },\n        _hostNode: vnode.node,\n        _context: _context,\n        _instance: _instance,\n        _renderedComponent: toReactComponent(vnode.thunk.vnode),\n\n        vnode: vnode\n    });\n\n    return inst;\n}\n\nclass ReactTopLevelWrapper extends vrdom.Component {\n    render() {\n        return this.props.child;\n    }\n}\n\nReactTopLevelWrapper.isReactTopLevelWrapper = true;\n\n/**\n * Transform a virtual node to a ReactTopLevelWrapper compatible object\n * \n * @param  {VirtualNode|VirtualText|ComponentWidget} vnode      virtual node to transform\n * @param  {Object}                                  roots      roots dictionary\n * @param  {Object}                                  Mount      Mount object\n * @param  {Object}                                  Reconciler Reconciler object\n * \n * @return {ReactTopLevelWrapper}                    ReactTopLevelWrapper compatible object\n */\nfunction toReactTopLevelWrapper(vnode, roots, Mount, Reconciler) {\n    let _renderedComponent = toReactWrapper(vnode, Mount, Reconciler);\n    if (_renderedComponent.wrapper) {\n        return _renderedComponent.wrapper;\n    }\n\n    let wrapper = {\n        _rootID: vnode.key,\n        _renderedComponent: _renderedComponent,\n        _currentElement: {\n            type: ReactTopLevelWrapper,\n            props: {\n                child: _renderedComponent._currentElement\n            },\n            key: null,\n            ref: null\n        },\n        _instance: {\n            context: vnode.context,\n            props: {\n                child: _renderedComponent._currentElement\n            },\n            refs: {},\n            rootID: vnode.key,\n            state: null\n        },\n        // _hostContainerInfo: getHostContainerInfo(vnode)\n    };\n\n    roots[wrapper._rootID] = wrapper;\n    _renderedComponent.wrapper = wrapper;\n    Mount._renderNewRootComponent(wrapper._currentElement, vnode.node.parentNode, null, vnode.context, wrapper);\n    Reconciler.mountComponent(wrapper);\n    return wrapper;\n}\n\n/**\n * [toReactWrapper description]\n * \n * @param  {VirtualNode|VirtualText|ComponentWidget} vnode      virtual node to transform\n * @param  {Object}                                  Mount      Mount object\n * @param  {Object}                                  Reconciler Reconciler object\n * \n * @return {[type]}            [description]\n */\nfunction toReactWrapper(vnode, Mount, Reconciler) {\n    let instance = toReactComponent(vnode);\n\n    visitNonCompositeChildren(instance, childInst => {\n        childInst._inDevTools = true;\n        Reconciler.mountComponent(childInst);\n    });\n    Reconciler.mountComponent(instance);\n\n    return instance;\n}\n\n/**\n * Map of Component|Node to ReactDOMComponent|ReactCompositeComponent-like\n * object.\n *\n * The same React*Component instance must be used when notifying devtools\n * about the initial mount of a component and subsequent updates.\n */\nlet instanceMap = new Map();\n\n/**\n * Transform a virtual node to a ReactComponent compatible object\n * \n * @param  {VirtualNode|VirtualText|ComponentWidget} vnode    virtual node to transform\n * @param  {Boolean}                                 noUpdate do not update\n * \n * @return {[type]}                                  ReactComponent compatible object\n */\nfunction toReactComponent(vnode, noUpdate) {\n    if (vnode == null) {\n        return null;\n    }\n\n    if (noUpdate) {\n        return vnode._reactInternalDevToolInstance;\n    }\n\n    let inst;\n\n    if (instanceMap.has(vnode.key)) {\n        inst = instanceMap.get(vnode.key);\n    } else {\n        inst = {};\n        instanceMap.set(vnode.key, inst);\n    }\n\n    if (vnode.isWidget) {\n        toReactCompositeComponent(vnode, inst);\n    } else if (vnode.isVNode) {\n        toReactDOMComponent(vnode, inst);\n    } else {\n        toReactTextComponent(vnode, inst);\n    }\n\n    vnode._reactInternalDevToolInstance = inst;\n    return inst;\n}\n/**\n * Find all root component instances rendered by vrdom in `node`'s children\n * and add them to the `roots` map.\n *\n * @param {DOMElement} node\n * @param {[key: string] => ReactDOMComponent|ReactCompositeComponent}\n */\nfunction findRoots(childNodes, roots, Mount, Reconciler) {\n    for (let i = 0, len = childNodes.length; i < len; i++) {\n        let child = childNodes[i];\n\n        if (hasProp.call(child, expando) && hasProp.call(child[expando], \"rootVNode\")) {\n            let rootVNode = child[expando].rootVNode;\n            toReactTopLevelWrapper(rootVNode, roots, Mount, Reconciler);\n        }\n\n        findRoots(child.childNodes, roots, Mount, Reconciler);\n    }\n}\n\n/**\n * Create a bridge for exposing vrdom's component tree to React DevTools.\n *\n * It creates implementations of the interfaces that ReactDOM passes to\n * devtools to enable it to query the component tree and hook into component\n * updates.\n *\n * See https://github.com/facebook/react/blob/59ff7749eda0cd858d5ee568315bcba1be75a1ca/src/renderers/dom/ReactDOM.js\n * for how ReactDOM exports its internals for use by the devtools and\n * the `attachRenderer()` function in\n * https://github.com/facebook/react-devtools/blob/e31ec5825342eda570acfc9bcb43a44258fceb28/backend/attachRenderer.js\n * for how the devtools consumes the resulting objects.\n */\nfunction createDevToolsBridge() {\n    // The devtools has different paths for interacting with the renderers from\n    // React Native, legacy React DOM and current React DOM.\n    //\n    // Here we emulate the interface for the current React DOM (v15+) lib.\n\n    // Map of root ID (the ID is unimportant) to component instance.\n    let roots = {};\n\n    // ReactMount-like object\n    //\n    // Used by devtools to discover the list of root component instances and get\n    // notified when new root components are rendered.\n    const Mount = {\n        _instancesByReactRootID: roots,\n\n        // Stub - React DevTools expects to find this method and replace it\n        // with a wrapper in order to observe new root components being added\n        _renderNewRootComponent(nextElement, container, shouldReuseMarkup, context, wrapper) {\n            return wrapper;\n        }\n    };\n\n    // ReactReconciler-like object\n    const Reconciler = {\n        // Stubs - React DevTools expects to find these methods and replace them\n        // with wrappers in order to observe components being mounted, updated and\n        // unmounted\n        mountComponent(/* instance, ... */) { },\n        performUpdateIfNecessary(/* instance, ... */) { },\n        receiveComponent(/* instance, ... */) { },\n        unmountComponent(/* instance, ... */) { }\n    };\n\n    findRoots(document.body.childNodes, roots, Mount, Reconciler);\n\n    // ReactDOMComponentTree-like object\n    const ComponentTree = {\n        getNodeFromInstance(instance) {\n            return instance._hostNode;\n        },\n        getClosestInstanceFromNode(node) {\n            while (node && !hasProp.call(node, expando)) {\n                node = node.parentNode;\n            }\n\n            if (node == null) {\n                return null;\n            }\n\n            if (node[expando].rootVNode) {\n                return toReactTopLevelWrapper(node[expando].rootVNode, roots, Mount, Reconciler);\n            }\n\n            let map = nodeMap[node[expando].vrdomID];\n            if (map == null) {\n                return null;\n            }\n\n            return toReactComponent(map.vnode, true);\n        }\n    };\n\n    const componentDidMount = vnode => {\n        if (isRootVNode(vnode)) {\n            toReactTopLevelWrapper(vnode, roots, Mount, Reconciler);\n            return;\n        }\n\n        toReactWrapper(vnode, Mount, Reconciler);\n    };\n\n    const componentDidUpdate = vnode => {\n        const prevRenderedChildren = [];\n        visitNonCompositeChildren(instanceMap.get(vnode.key), childInst => {\n            prevRenderedChildren.push(childInst);\n        });\n\n        // Notify devtools about updates to this vnode and any non-composite\n        // children\n        const instance = toReactComponent(vnode);\n        Reconciler.receiveComponent(instance);\n        visitNonCompositeChildren(instance, childInst => {\n            if (!childInst._inDevTools) {\n                // New DOM child vnode\n                childInst._inDevTools = true;\n                Reconciler.mountComponent(childInst);\n            } else {\n                // Updated DOM child vnode\n                Reconciler.receiveComponent(childInst);\n            }\n        });\n\n        // For any non-composite children that were removed by the latest render,\n        // remove the corresponding ReactDOMComponent-like instances and notify\n        // the devtools\n        prevRenderedChildren.forEach(childInst => {\n            if (!document.body.contains(childInst._hostNode)) {\n                instanceMap.delete(childInst.vnode);\n                Reconciler.unmountComponent(childInst);\n                delete childInst._hostNode;\n                delete childInst.vnode;\n            }\n        });\n    };\n\n    const componentWillUnmount = vnode => {\n        let instance = toReactComponent(vnode);\n        let rootInstance;\n\n        if (isRootVNode(vnode)) {\n            rootInstance = toReactTopLevelWrapper(instance.vnode, roots, Mount, Reconciler);\n            Reconciler.unmountComponent(instance);\n        }\n\n        visitNonCompositeChildren(childInst => {\n            instanceMap.delete(childInst.vnode);\n            Reconciler.unmountComponent(childInst);\n            delete childInst._hostNode;\n            delete childInst.vnode;\n        });\n\n        Reconciler.unmountComponent(instance);\n\n        instanceMap.delete(vnode.key);\n        if (instance._rootID) {\n            delete roots[instance._rootID];\n        }\n        delete instance._hostNode;\n        delete instance.vnode;\n        delete vnode._reactInternalDevToolInstance;\n\n        if (rootInstance) {\n            delete rootInstance._hostNode;\n            delete rootInstance.vnode;\n            delete vnode._reactInternalDevToolInstance;\n        }\n    };\n\n    return {\n        componentDidMount,\n        componentDidUpdate,\n        componentWillUnmount,\n\n        // Interfaces passed to devtools via __REACT_DEVTOOLS_GLOBAL_HOOK__.inject()\n        ComponentTree,\n        Mount,\n        Reconciler\n    };\n}\n\n/**\n * Visit all child instances of a ReactCompositeComponent-like object that are\n * not composite components (ie. they represent DOM elements or text)\n *\n * @param {ReactInternalComponent} instance\n * @param {(ReactInternalComponent) => void} visitor\n */\nfunction visitNonCompositeChildren(instance, visitor) {\n    if (instance._renderedComponent) {\n        visitNonCompositeChildren(instance._renderedComponent, visitor);\n    } else if (hasProp.call(instance, \"_renderedChildren\")) {\n        visitor(instance);\n\n        if (Array.isArray(instance._renderedChildren)) {\n            instance._renderedChildren.forEach(childInst => {\n                visitNonCompositeChildren(childInst, visitor);\n            });\n        }\n    }\n}\n\n/**\n * Return `true` if a vrdom vnode is a top level vnode rendered by\n * `render()` into a container Element.\n */\nfunction isRootVNode(vnode) {\n    return !vnode.parent;\n}\n\nlet registered = false;\nlet componentDidMountHook, componentDidUpdateHook, componentWillUnmountHook;\n\n/**\n * Create a bridge between the vrdom component tree and React's dev tools\n * and register it.\n *\n * After this function is called, the React Dev Tools should be able to detect\n * \"React\" on the page and show the component tree.\n *\n * This function hooks into vrdom VNode creation in order to expose functional\n * components correctly, so it should be called before the root component(s)\n * are rendered.\n */\nexport function register() {\n    if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === \"undefined\" || registered) {\n        // React DevTools are not installed\n        return;\n    }\n\n    const bridge = createDevToolsBridge();\n    componentDidMountHook = bridge.componentDidMount;\n    componentDidUpdateHook = bridge.componentDidUpdate;\n    componentWillUnmountHook = bridge.componentWillUnmount;\n\n    // Notify devtools about this instance of \"React\"\n    registered = __REACT_DEVTOOLS_GLOBAL_HOOK__.inject(bridge);\n\n    hooks.appendHook(\"componentDidMount\", componentDidMountHook);\n    hooks.appendHook(\"componentDidUpdate\", componentDidUpdateHook);\n    hooks.appendHook(\"componentWillUnmount\", componentWillUnmountHook);\n}\n\nexport function unregister() {\n    if (registered) {\n        hooks.removeHook(\"componentDidMount\", componentDidMountHook);\n        hooks.removeHook(\"componentDidUpdate\", componentDidUpdateHook);\n        hooks.removeHook(\"componentWillUnmount\", componentWillUnmountHook);\n\n        delete __REACT_DEVTOOLS_GLOBAL_HOOK__._renderers[registered];\n        registered = false;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./vrdom-devtools/vrdom-devtools.js","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"amd\":\"vrdom\",\"commonjs\":\"vrdom\",\"commonjs2\":\"vrdom\",\"root\":\"vrdom\"}\n// module id = 1\n// module chunks = 0"]}